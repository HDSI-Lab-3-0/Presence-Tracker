services:
  web-dashboard:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "${FRONTEND_PORT:-3132}:3132"
    environment:
      - CONVEX_URL_MODE=${CONVEX_URL_MODE:-convex}
      - CONVEX_DEPLOYMENT_URL=${CONVEX_DEPLOYMENT_URL}
      - CONVEX_SELF_HOSTED_URL=${CONVEX_SELF_HOSTED_URL}
      - DEPLOYMENT_MODE=${DEPLOYMENT_MODE:-convex}
      - ORGANIZATION_NAME=${ORGANIZATION_NAME:-Presence Tracker}
      - PORT=3132
    restart: always

# Note: presence-tracker.service runs on the host (Raspberry Pi) to access Bluetooth hardware.
# This docker-compose is ONLY for the web dashboard as requested.
